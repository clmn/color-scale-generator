<link rel="stylesheet" href="figma-plugin-ds.css">
<div class="main-container">

Select one or several elements to copy color from or enter a HEX value:
<div class="generator-settings">
	<div><span class="input-label">Color: # </span><input id="color" value="A21A50" class="input__field" width="60px"/></div>
	<div><span class="input-label">Steps: </span><select name="steps" id="count" class="input__field" >
		<option value="6">6</option>	
		<option value="8">8</option>	
		<option value="10" selected>10</option>	
		</select>
	</div>
</div>
<button class='button button--primary'id="create">Create</button>
</div>
<script>

window.onmessage = async event => {
  const message = event.data.pluginMessage
  document.getElementById('color').value = message.fill
}

document.getElementById('create').onclick = () => {
  const textbox = document.getElementById('count');
  const colorbox = document.getElementById('color');
  const count = parseInt(textbox.value, 10);
  const color = colorbox.value;
  parent.postMessage({ pluginMessage: { type: 'create-rectangles', count, color } }, '*')
}



</script>
<style type="text/css">
	.main-container {
		font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif;
		font-size: 12px;
		color: #333435;
		line-height: 1.5;
	}
	.generator-settings {
		margin: 10px 0;
	}
	.input-label {
		display: inline-block;
		width: 45px;
	}
	.button {
	  align-items: center;
	  border-radius: 3px;
	  color: #fff;
	  padding: 5px 10px;
	  text-decoration: none;
	  outline: none;
	  border: 2px solid transparent;
	  -webkit-user-select: none;
	     -moz-user-select: none;
	      -ms-user-select: none;
	          user-select: none;
	}
	.input__field {
		width: 55px;
		background: transparent;
		height: 30px;
		margin: 1px 0 1px 0;
		padding: 5px;

		border: 1px solid transparent;
		border-radius: 2px;
		outline: none;

	}

	.input__field:hover {

		border: 1px solid #E4E5E6;
	}
	.input__field:focus {

		border: 1px solid #18a0fb;
	}

	.button--primary {
		  background-color: #18a0fb;
		}

	.button--primary:enabled:active, .button--primary:enabled:focus {
	  border: 2px solid #000;
	}
</style>